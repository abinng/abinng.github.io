<?xml version="1.0" encoding="utf-8"?>
<search> 
  
  
    
    <entry>
      
        <title>测试用</title>
      
      <link href="/posts/37411.html"/>
      <url>/posts/37411.html</url>
      
        <content type="html"><![CDATA[<h2 id="前言">前言</h2><p>本篇用于博客实验性内容的测试</p><p>回过头看，我自己可能也看不懂我在干啥</p><h2 id="图片压缩后上传-picgo">图片压缩后上传-picgo</h2><p>原图：328KB</p><h3 id="webp-converter">webp-converter</h3><p>压缩后为：128KB</p><p><img src="https://raw.githubusercontent.com/abinng/Blog-img/main/cdnimg/20260119210636038.webp" alt="a1107fe5-6bbd-42c2-80d4-b1020ed55d26"></p><h3 id="tinypng">TinyPng</h3><p>压缩后为：110KB</p><p><img src="https://raw.githubusercontent.com/abinng/Blog-img/main/cdnimg/20260119211702677.png" alt="a1107fe5-6bbd-42c2-80d4-b1020ed55d26"></p><p>由于Tinypng的压缩效果比较好，而通用的webp转换比较差，同时大片纯色的图片，也有利于Tinypng的压缩，所以我这里还是使用Tinypng</p>]]></content>
      
      
      <categories>
          
          <category> Hexo </category>
          
      </categories>
      
      
        <tags>
            
            <tag> Hexo </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      
        <title>docker配置国内镜像加速</title>
      
      <link href="/posts/56777.html"/>
      <url>/posts/56777.html</url>
      
        <content type="html"><![CDATA[<h1 id="docker配置国内镜像加速">docker配置国内镜像加速</h1><p>使用docker测试拉取镜像时，出现了拉取失败的情况，如下：</p><figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line">[r@101 ~]# docker run hello-world</span><br><span class="line">Unable to find image 'hello-world:latest' locally</span><br><span class="line">docker: Error response from daemon: Get "https://registry-1.docker.io/v2/": net/http: request canceled n (Client.Timeout exceeded while awaiting headers).</span><br><span class="line">See 'docker run --help'.</span><br></pre></td></tr></table></figure><p>这是由于访问官方镜像库超时了，接下来配置镜像加速</p><p>使用的是CentOS 7</p><ul><li><p>如果不存在 <code>/etc/docker/daemon.json</code>，使用以下命令：</p><figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta prompt_"># </span><span class="language-bash">创建目录</span></span><br><span class="line">sudo mkdir -p /etc/docker</span><br><span class="line"><span class="meta prompt_"># </span><span class="language-bash">写入镜像配置</span></span><br><span class="line">sudo tee /etc/docker/daemon.json &lt;&lt;-'EOF'</span><br><span class="line">{</span><br><span class="line">    "registry-mirrors": [</span><br><span class="line">        "https://docker.m.daocloud.io",</span><br><span class="line">        "https://dockerproxy.com",</span><br><span class="line">        "https://docker.mirrors.ustc.edu.cn",</span><br><span class="line">        "https://docker.nju.edu.cn"</span><br><span class="line">    ]</span><br><span class="line">}</span><br><span class="line">EOF</span><br><span class="line"><span class="meta prompt_"># </span><span class="language-bash">重启docker服务</span></span><br><span class="line">sudo systemctl daemon-reload</span><br><span class="line">sudo systemctl restart docker</span><br><span class="line">sudo systemctl status docker</span><br><span class="line"><span class="meta prompt_"># </span><span class="language-bash">检查镜像源配置</span></span><br><span class="line">docker info | grep -A 5 "Registry Mirrors"</span><br></pre></td></tr></table></figure></li><li><p>如果已经存在 <code>/etc/docker/daemon.json</code> ，则</p><figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br></pre></td><td class="code"><pre><span class="line">sudo cat &gt; /etc/docker/daemon.json &lt;&lt; EOF</span><br><span class="line">{</span><br><span class="line">    "registry-mirrors": [</span><br><span class="line">        "https://docker.m.daocloud.io",</span><br><span class="line">        "https://dockerproxy.com",</span><br><span class="line">        "https://docker.mirrors.ustc.edu.cn",</span><br><span class="line">        "https://docker.nju.edu.cn"</span><br><span class="line">    ]</span><br><span class="line">}</span><br><span class="line">EOF</span><br><span class="line"><span class="meta prompt_"># </span><span class="language-bash">然后重启服务</span></span><br><span class="line">sudo systemctl daemon-reload</span><br><span class="line">sudo systemctl restart docker</span><br><span class="line">sudo systemctl status docker</span><br><span class="line"><span class="meta prompt_"># </span><span class="language-bash">检查镜像源配置</span></span><br><span class="line">docker info | grep -A 5 "Registry Mirrors"</span><br></pre></td></tr></table></figure></li></ul><p>之后执行 <code>docker run hello-world</code>，如果还是不行，检查网络问题或者换其他镜像源<del>换几次源才成功也不奇怪</del></p><h2 id="结尾">结尾</h2><p>又水了一篇ƪ(˘⌣˘)ʃ</p>]]></content>
      
      
      <categories>
          
          <category> docker </category>
          
      </categories>
      
      
        <tags>
            
            <tag> docker </tag>
            
            <tag> 教程 </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      
        <title>linux的core转储位置</title>
      
      <link href="/posts/8878.html"/>
      <url>/posts/8878.html</url>
      
        <content type="html"><![CDATA[<h1 id="linux的core转储位置">linux的core转储位置</h1><p>如果你在学gdb时遇到这样的问题，那么，本篇应该能帮你解决问题</p><p>问题：模拟一个段错误(Segmentationfault)时，明明已经显示了核心已转储(coredump)，但在当前目录下找不到core，跟着下面的步骤，大概率能帮你解决该问题</p><ol type="1"><li><p>核心转储</p><p>首先coredump是什么呢？系统发生严重错误导致崩溃时，自动生成的一个文件，通常用GDB分析该文件可以帮助调试、修复程序中的错误</p></li><li><p>设置核心转储文件大小</p><figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta prompt_"># </span><span class="language-bash">查看core file size项是否为0</span></span><br><span class="line">ulimit -a</span><br></pre></td></tr></table></figure><p><img src="https://raw.githubusercontent.com/abinng/Blog-img/main/cdnimg/20260118162306913.png" alt="image-20250712184618168"></p><figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta prompt_"># </span><span class="language-bash">若显示为0，使用下面的命令启用核心转储</span></span><br><span class="line">ulimit -c unlimited</span><br><span class="line"><span class="meta prompt_"># </span><span class="language-bash">此时可以编辑配置文件，即可默认启用</span></span><br><span class="line">sudo vi ~/.bashrc</span><br><span class="line"><span class="meta prompt_"># </span><span class="language-bash">在末尾添加以下行：</span></span><br><span class="line">ulimit -c unlimited</span><br><span class="line"><span class="meta prompt_"># </span><span class="language-bash">退出编辑器后可执行以下命令使其立即生效</span></span><br><span class="line">source ~/.bashrc</span><br></pre></td></tr></table></figure><p>该步骤执行完后，尝试再次执行段错误文件，查看是否生成core文件，若生成了core文件，则到此即可结束；若没有生成，请继续跟着下面的步骤</p></li><li><p>设置核心转储位置</p><p>已经启用了核心转储功能，为什么还是找不到core？因为其被发送到其他程序了(如abrt或Apport等)，接下来我们来设置位置在固定目录中</p><figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta prompt_"># </span><span class="language-bash">创建一个目录用于存放core文件</span></span><br><span class="line">mkdir -p /tmp/dump/cores/</span><br><span class="line"><span class="meta prompt_"># </span><span class="language-bash">授予权限</span></span><br><span class="line">chmod a+x /tmp/dump/cores/</span><br><span class="line">或者</span><br><span class="line">chmoe 755 /tmp/dump/cores/</span><br></pre></td></tr></table></figure><p>查看生成路径</p><p><img src="https://raw.githubusercontent.com/abinng/Blog-img/main/cdnimg/20260118162306805.png" alt="image-20250712190510237"></p><figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta prompt_"># </span><span class="language-bash">临时设置核心转储路径（重启后失效）</span></span><br><span class="line">echo '/tmp/dump/cores/core_%e.%p_%t' | sudo tee /proc/sys/kernel/core_pattern</span><br><span class="line"><span class="meta prompt_"># </span><span class="language-bash">此处参数----%e:执行时间  %p:进程的pid  %t:时间戳</span></span><br><span class="line"><span class="meta prompt_"></span></span><br><span class="line"><span class="meta prompt_"># </span><span class="language-bash">编辑/etc/sysctl.conf临时转永久设置</span></span><br><span class="line">sudo vi /etc/sysctl.conf</span><br><span class="line"><span class="meta prompt_"># </span><span class="language-bash">添加以下行：</span></span><br><span class="line">kernel.core_pattern = /tmp/dump/cores/core.%e.%p.%t</span><br><span class="line">执行 sysctl -p 立即生效,或者重启系统后查看</span><br></pre></td></tr></table></figure><p>接下来再次执行模拟段错误的可执行文件</p><figure class="highlight cpp"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">#<span class="keyword">include</span> <span class="string">&lt;iostream&gt;</span></span></span><br><span class="line"></span><br><span class="line"><span class="keyword">using</span> <span class="keyword">namespace</span> std;</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="type">int</span> <span class="title">main</span><span class="params">()</span></span></span><br><span class="line"><span class="function"></span>{</span><br><span class="line">    </span><br><span class="line">        cout &lt;&lt; <span class="string">"hello world!"</span> &lt;&lt; endl;</span><br><span class="line">        <span class="type">int</span> *ptr = <span class="literal">NULL</span>;</span><br><span class="line">        *ptr = <span class="number">520</span>;</span><br><span class="line">    </span><br><span class="line">     <span class="keyword">return</span> <span class="number">0</span>;</span><br><span class="line">}</span><br></pre></td></tr></table></figure></li></ol> <figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta prompt_"># </span><span class="language-bash">编译、执行</span></span><br><span class="line">g++ -g 文件名.cpp</span><br><span class="line">./a.out</span><br></pre></td></tr></table></figure><p>查看是否生成核心文件</p><figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">ls -l /tmp/dump/cores/</span><br></pre></td></tr></table></figure><p><img src="https://raw.githubusercontent.com/abinng/Blog-img/main/cdnimg/20260118162307003.png" alt="image-20250712191939727"></p><p>到此，该问题基本就被解决了</p>]]></content>
      
      
      <categories>
          
          <category> linux </category>
          
      </categories>
      
      
        <tags>
            
            <tag> 教程 </tag>
            
            <tag> linux </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      
        <title>Hello World</title>
      
      <link href="/posts/16107.html"/>
      <url>/posts/16107.html</url>
      
        <content type="html"><![CDATA[<p>Welcome to <a href="https://hexo.io/">Hexo</a>! This is your veryfirst post. Check <a href="https://hexo.io/docs/">documentation</a> formore info. If you get any problems when using Hexo, you can find theanswer in <a href="https://hexo.io/docs/troubleshooting.html">troubleshooting</a> oryou can ask me on <a href="https://github.com/hexojs/hexo/issues">GitHub</a>.</p><h2 id="quick-start">Quick Start</h2><h3 id="create-a-new-post">Create a new post</h3><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">$ hexo new <span class="string">"My New Post"</span></span><br></pre></td></tr></table></figure><p>More info: <a href="https://hexo.io/docs/writing.html">Writing</a></p><h3 id="run-server">Run server</h3><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">$ hexo server</span><br></pre></td></tr></table></figure><p>More info: <a href="https://hexo.io/docs/server.html">Server</a></p><h3 id="generate-static-files">Generate static files</h3><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">$ hexo generate</span><br></pre></td></tr></table></figure><p>More info: <a href="https://hexo.io/docs/generating.html">Generating</a></p><h3 id="deploy-to-remote-sites">Deploy to remote sites</h3><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">$ hexo deploy</span><br></pre></td></tr></table></figure><p>More info: <a href="https://hexo.io/docs/one-command-deployment.html">Deployment</a></p>]]></content>
      
      
      
    </entry>
    
    
  
  
    
    
    <entry>
      <title>categories</title>
      <link href="/categories/index.html"/>
      <url>/categories/index.html</url>
      
        <content type="html"><![CDATA[]]></content>
      
    </entry>
    
    
    
    <entry>
      <title>about</title>
      <link href="/about/index.html"/>
      <url>/about/index.html</url>
      
        <content type="html"><![CDATA[]]></content>
      
    </entry>
    
    
    
    <entry>
      <title></title>
      <link href="/js/mathjax_config.js"/>
      <url>/js/mathjax_config.js</url>
      
        <content type="html"><![CDATA[MathJax = {  tex: {    inlineMath: [['$', '$'], ['\\(', '\\)']]  }};]]></content>
      
    </entry>
    
    
    
    <entry>
      <title>comments</title>
      <link href="/comments/index.html"/>
      <url>/comments/index.html</url>
      
        <content type="html"><![CDATA[]]></content>
      
    </entry>
    
    
    
    <entry>
      <title>tags</title>
      <link href="/tags/index.html"/>
      <url>/tags/index.html</url>
      
        <content type="html"><![CDATA[]]></content>
      
    </entry>
    
    
  
</search>